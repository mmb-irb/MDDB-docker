"use strict";(self.webpackChunkmdposit=self.webpackChunkmdposit||[]).push([[421],{10939:(e,s,t)=>{t.d(s,{A:()=>u});var r=t(65043),a=t(12110),n=t(17604);const i="style_container__M9GCG";var c=t(70579);const l={opacity:[0,1]};(0,n.A)()||(l.transform=["translateY(50px)","translateY(0)"]);const o={fill:"both",easing:"cubic-bezier(0, .99, .56, 1.1)",duration:500},u=(0,r.forwardRef)(((e,s)=>{let{overrideComponent:t,...n}=e;const u=(0,r.useRef)(null);(0,r.useLayoutEffect)((()=>{const e=u.current&&u.current.firstElementChild;if(!e||!e.animate)return;const s=Array.from(document.querySelectorAll("main section")).findIndex((s=>e===s)),t=e.animate(l,{...o,delay:150*s});return()=>t.cancel()}),[]);const d=t?"section":a.A;return(0,c.jsx)("div",{ref:u,className:i,children:(0,c.jsx)(d,{component:"section",...n,ref:s})})}))},17545:(e,s,t)=>{t.d(s,{A:()=>h});var r=t(65043),a=t(64600),n=t.n(a),i=t(81637),c=t(92954);const l="style_loading__Vdgbc",o="style_show__wIdQ5";var u=t(70579);const d=750,h=e=>{let{wait:s=d}=e;const[t,a]=(0,c.A)(!1);return(0,r.useLayoutEffect)((()=>{const e=setTimeout((()=>{a()}),s);return()=>clearTimeout(e)}),[a,s]),(0,u.jsx)("div",{title:"loading...",className:n()(l,{[o]:t}),children:t&&(0,u.jsx)(i.A,{variant:"indeterminate",color:"primary",size:50,thickness:5})})}},92954:(e,s,t)=>{t.d(s,{A:()=>a});var r=t(65043);const a=e=>{const[s,t]=(0,r.useState)(!!e),a=(0,r.useCallback)((e=>{switch(typeof e){case"function":t(e);break;case"boolean":case"number":case"string":t(Boolean(e));break;default:t((e=>!e))}}),[]);return[s,a]}},11567:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_e});var r=t(65043),a=t(35475),n=t(73216),i=t(22908),c=t(64600),l=t.n(c),o=t(28076),u=t(10039),d=t(43845),h=t(26494),p=t(53193),m=t(79190),f=t(2260),x=t(32143),j=t(85865),_=t(71806),y=t(84882),g=t(73460),A=t(207),N=t(67803),b=t(83150),v=t(10939),C=t(10312),w=t(70008);const P="style_highlightable__biB77";var k=t(70579);const E=/\s+/,S=(0,C.A)((e=>new RegExp("(".concat(e.toString().trim().split(E).map(w.A).join("|"),")"),"i"))),I=r.memo((e=>{let{highlight:s,children:t}=e;if(Array.isArray(t))return t.map(((e,t)=>(0,k.jsx)(I,{highlight:s,children:e},t)));if(!s||!t||"string"!==typeof t&&!Number.isFinite(t))return t||null;const a=S(s);return(0,k.jsx)("span",{className:P,children:t.toString().split(a).filter(Boolean).map(((e,s)=>r.createElement(a.test(e)?"mark":"span",{key:s},e)))})})),T=I;var R=t(17545),z=t(58338),q=t(95747);const D="style_table-body__UaSDI",B="style_invalid-results__xfJgr",M="style_table-head__tmuYe",O="style_not-published__KTvNz",Q="style_center__5C2Uk",L="style_no-results-card__hJ248",U="style_minheight__Qpr-9",F="style_no-results-text__PtOSj",X="style_analysis__M4Th0",Y="style_small__QxCJm",J="style_horizontal__f42Xi",V="style_selector__XVrF1",G="style_fillheight__1UWvV";var Z=t(17604),K=t(88058),W=t(51787),H=t(67784),$=t(92127),ee=t(12639),se=t(1198);const te="style_searchbar__L3fSk",re="style_searchbar-icon__o1zED",ae="style_searchbar-letters__NY7xQ",ne={"aria-label":"Search projects by text",startAdornment:(0,k.jsx)(W.A,{position:"start",children:(0,k.jsx)($.g,{icon:ee.MjD,size:"2x",className:re})}),classes:{input:ae}},ie=(0,K.A)(((e,s,t)=>{const{search:r,...a}=(0,i.parse)(e.search,{ignoreQueryPrefix:!0}),n=Boolean(r)===Boolean(t);t&&(a.search=t),r!==t&&(a.page=void 0,s({...e,search:(0,i.stringify)(a),replace:n}))}),500),ce=()=>{const e=(0,n.zy)(),s=(0,n.Zp)(),[t,a]=(0,r.useState)((0,i.parse)(e.search,{ignoreQueryPrefix:!0}).search);(0,r.useEffect)((()=>ie.cancel),[]);const c=(0,r.useCallback)((t=>{let{target:{value:r}}=t;a(r),ie(e,s,r)}),[e,s]),l=se.m.find((e=>"browser"===e.id));return(0,k.jsx)(H.A,{title:l.text,value:t||"",onChange:c,className:te,InputProps:ne,placeholder:q._r.searchExample})},le="Not available",oe="All results",ue=[5,10,25,50],de={title:"Previous page"},he={title:"Next page"},pe={opacity:[0,1]};(0,Z.A)()||(pe.transform=["translateX(2.5%)","translateX(0)"]);const me=["P0DTC2"],fe=["P0DTC2"],xe=["rmsds","rgyr","fluctuation","pca","rmsd-perres","rmsd-pairwise","dist-perres","hbonds","electrostatic","energies","pockets","mutations","epitopes","sasa","populations","markov"],je=e=>{let{project:s,highlight:t,index:n,previewUrl:i}=e;const{identifier:c,accession:h,published:p,pdbInfo:m,metadata:f,analyses:x,files:j,mdCount:_}=s,y=(0,r.useRef)(null);if((0,r.useLayoutEffect)((()=>{if(!y.current||!y.current.animate)return;const e=y.current.animate(pe,{fill:"both",easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",duration:750,delay:100+75*n});return()=>e.cancel()}),[n]),s.error)return(0,k.jsxs)(o.A,{ref:y,className:O,children:[(0,k.jsx)(u.A,{className:Q,children:" Errored entry "}),(0,k.jsxs)(u.A,{className:Q,children:[" ",s.error," "]}),(0,k.jsx)(u.A,{className:Q,children:" - "}),(0,k.jsx)(u.A,{className:Q,children:" - "})]});f&&f.INTERACTIONS&&f.INTERACTIONS.length>0&&x&&!x.includes("electrostatic")&&x.push("electrostatic"),j&&j.find((e=>"populations.json"===e))&&x&&!x.includes("populations")&&x.push("populations");const g=f&&f.REFERENCES;g&&g.some((e=>(e=>me.indexOf(e)>-1)(e)))&&x&&!x.includes("mutations")&&x.push("mutations");return g&&g.some((e=>(e=>fe.indexOf(e)>-1)(e)))&&x&&!x.includes("epitopes")&&x.push("epitopes"),(0,k.jsxs)(o.A,{ref:y,className:l()({[O]:!p}),children:[(0,k.jsxs)(u.A,{className:Q,children:[(0,k.jsx)(a.N_,{to:{pathname:"/id/".concat(h||c,"/overview"),state:{projectData:s}},children:(0,k.jsxs)(T,{highlight:t,children:[h||c,!p&&(0,k.jsx)("div",{children:"(not published)"})]})}),_>1&&(0,k.jsx)("div",{className:Y,children:"".concat(_," MDs")})]}),(0,k.jsx)(u.A,{className:Q,children:(0,k.jsx)(T,{highlight:t,children:f&&f.NAME?f.NAME:m&&m.compound?m.compound:le})}),(0,k.jsx)(u.A,{className:Q,children:(0,k.jsx)(b.A,{src:i,width:"110",height:"110",loading:"lazy",alt:"Project preview"})}),(0,k.jsxs)(u.A,{className:Q,children:[(0,k.jsx)(d.A,{clickable:!0,className:X,component:a.N_,to:{pathname:"/id/".concat(h||c,"/trajectory"),state:{projectData:s}},label:"Trajectory",variant:"outlined"},"trajectory"),x&&x.length?x.sort().filter((e=>xe.includes(e))).map((e=>(0,k.jsx)(d.A,{clickable:!0,className:X,component:a.N_,to:{pathname:"/id/".concat(h||c,"/").concat(e),state:{projectData:s}},label:q.h7.get(e)||e,variant:"outlined"},e))):le]})]})},_e=()=>{const e=(0,n.zy)(),s=(0,n.Zp)(),t=decodeURIComponent(e.search),a=(0,i.parse)(t,{ignoreQueryPrefix:!0,decoder:e=>e}),[c,d]=(0,r.useState)(a.option||oe),b=(0,r.useCallback)((t=>{let{target:{value:r}}=t;s({...e,search:(0,i.stringify)({search:a.search,query:a.query,option:r&&r!==oe?r:void 0})}),d(r)}),[e,a,d]),C=q._r.optionsField,w=c&&c!==oe&&"".concat(C,"+*").concat(c),P=(0,i.stringify)({search:a.search,query:a.query,ref:a.ref,page:a.page||1,limit:a.limit||10,filter:w});(0,r.useEffect)((()=>{window.scrollTo(0,0)}),[a.page]);const E=(0,r.useRef)(null),S=C?"".concat(q.nP,"/options?projection=").concat(C):null,{payload:I,error:T}=(0,z.A)(S),O=(0,r.useMemo)((()=>{let e=[];return I&&(e=Object.keys(I[C]).filter((e=>"null"!==e))),[oe,...e]}),[I]),X="".concat(q.nP,"?").concat(P),{loading:Y,payload:Z,error:K}=(0,z.A)(X);if(Y&&!E.current)return(0,k.jsx)(R.A,{});if(K)return K.toString();if(T)return T.toString();let W,H=0;Z?(W=Z.projects,H=Z.filteredCount,E.current=Z):E.current?(W=E.current.projects,H=E.current.filteredCount):W=[];const $=W.map((e=>"".concat(q.nP,"/").concat(e.identifier,"/files/").concat(q.pP)));return(0,k.jsx)(v.A,{children:(0,k.jsxs)(h.A,{className:U,children:[(0,k.jsxs)("div",{className:J,children:[(0,k.jsx)(ce,{}),C&&(0,k.jsxs)(p.A,{className:V,children:[(0,k.jsx)(m.A,{children:q._r.optionsLabel}),(0,k.jsx)(f.A,{label:q._r.optionsLabel,value:c!==oe?c:"",onChange:b,className:G,children:O.map(((e,s)=>(0,k.jsx)(x.A,{value:e,children:q._r.optionsNiceNames[e]||e},s)))})]})]}),Y||Z?[]:(0,k.jsx)(v.A,{className:L,children:(0,k.jsx)(j.A,{variant:"h5",className:F,children:"No results were found"})}),(0,k.jsxs)(_.A,{children:[(0,k.jsx)(y.A,{className:M,children:(0,k.jsxs)(o.A,{children:[(0,k.jsx)(u.A,{className:Q,children:"accession"}),(0,k.jsx)(u.A,{className:Q,children:"name"}),(0,k.jsx)(u.A,{className:Q,children:"preview"}),(0,k.jsx)(u.A,{className:Q,children:"analyses"})]})}),(0,k.jsx)(g.A,{className:Z?l()(D):l()(D,B),children:W.map(((e,s)=>(0,k.jsx)(je,{project:e,highlight:a.search,index:s,previewUrl:$[s]},s)))}),(0,k.jsx)(A.A,{children:(0,k.jsx)(o.A,{children:(0,k.jsx)(N.A,{rowsPerPageOptions:ue,colSpan:6,count:H,rowsPerPage:+a.limit||10,page:(+a.page||1)-1,onPageChange:(t,r)=>{s({...e,search:(0,i.stringify)({search:a.search,query:a.query,option:a.option,page:r+1===1?void 0:r+1,limit:a.limit&&10!==+a.limit?+a.limit:void 0})})},onRowsPerPageChange:t=>{let{target:{value:r}}=t;s({...e,search:(0,i.stringify)({search:a.search,query:a.query,option:a.option,limit:10===+r?void 0:r})})},backIconButtonProps:de,nextIconButtonProps:he})})})]})]})})}}}]);
//# sourceMappingURL=browse.d9ce79b3.chunk.js.map